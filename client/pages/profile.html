<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="google-adsense-account" content="ca-pub-2703338145574896">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="View and manage your Braintube profile, academic details, and premium subscriptions.">
    <title>My Profile - Braintube</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../styles/index.css?v=1.0.3">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' style='stop-color:%238b5cf6'/><stop offset='100%25' style='stop-color:%2306b6d4'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><text x='50' y='65' font-size='50' fill='white' text-anchor='middle' font-family='Arial' font-weight='bold'>B</text></svg>">
    <style>
        .profile-container {
            max-width: 800px;
            margin: 120px auto var(--space-20);
            padding: 0 var(--space-6);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            margin-bottom: var(--space-12);
            padding: var(--space-8);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
        }

        .profile-avatar-large {
            width: 100px;
            height: 100px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: 800;
            color: white;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }

        .profile-title h1 {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-2);
        }

        .profile-title p {
            color: var(--text-muted);
        }

        .profile-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-6);
        }

        .info-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            transition: transform 0.2s;
        }

        .info-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-500);
        }

        .info-label {
            font-size: var(--text-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-2);
        }

        .info-value {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
        }

        .premium-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 4px 12px;
            background: rgba(139, 92, 246, 0.1);
            color: var(--primary-400);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 500;
            margin-top: 10px;
        }

        @media (max-width: 640px) {
            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <header class="header" id="header">
        <div class="header-inner">
            <a href="../index.html" class="logo">
                <div class="logo-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 10v6M2 10l10-5 10 5-10 5z" />
                        <path d="M6 12v5c3 3 9 3 12 0v-5" />
                    </svg>
                </div>
                <span>Brain<span class="text-gradient">tube</span></span>
            </a>
            <nav class="nav">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="branches.html" class="nav-link">Branches</a>
                <a href="resources.html" class="nav-link">Resources</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </nav>
            <div class="header-actions">
                <!-- Auth JS will inject user menu here -->
                <a href="login.html" class="btn btn-secondary hide-mobile">Login</a>
                <button class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></button>
            </div>
        </div>
    </header>

    <main class="profile-container">
        <div class="profile-header">
            <div class="profile-avatar-large" id="avatarDisplay">?</div>
            <div class="profile-title">
                <h1 id="userNameDisplay">Loading...</h1>
                <p id="userEmailDisplay">...</p>
                <div id="premiumBadge" class="premium-badge" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon
                            points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                    </svg>
                    Premium Member
                </div>
            </div>
        </div>

        <div class="profile-grid">
            <div class="info-card">
                <div class="info-label">Current Branch</div>
                <div class="info-value" id="userBranchDisplay">-</div>
            </div>
            <div class="info-card">
                <div class="info-label">Active Semester</div>
                <div class="info-value" id="userSemDisplay">-</div>
            </div>
            <div class="info-card">
                <div class="info-label">Joined On</div>
                <div class="info-value">January 2026</div>
            </div>
            <div class="info-card">
                <div class="info-label">Account Status</div>
                <div class="info-value" style="color: #10b981;">Active</div>
            </div>
        </div>

        <div style="margin-top: var(--space-12); text-align: center;">
            <button onclick="Auth.logout(); window.location.href='../index.html';" class="btn btn-secondary"
                style="border-color: #ef4444; color: #ef4444;">
                Logout from Device
            </button>
        </div>
    </main>

    <script src="../scripts/config.js"></script>
    <script src="../scripts/main.js"></script>
    <script src="../scripts/auth.js"></script>
    <script>
        // Ensure user is logged in
        document.addEventListener('DOMContentLoaded', () => {
            // Wait for Auth to init
            const checkInterval = setInterval(() => {
                if (window.Auth && window.Auth.user !== null) {
                    clearInterval(checkInterval);
                    updateProfileUI();
                } else if (window.Auth && !window.Auth.isAuthenticated()) {
                    clearInterval(checkInterval);
                    Auth.requireAuth();
                }
            }, 100);

            function updateProfileUI() {
                const user = Auth.user;
                if (!user) return;

                document.getElementById('avatarDisplay').textContent = user.name.charAt(0).toUpperCase();
                document.getElementById('userNameDisplay').textContent = user.name;
                document.getElementById('userEmailDisplay').textContent = user.email;
                document.getElementById('userBranchDisplay').textContent = user.branch.toUpperCase();
                document.getElementById('userSemDisplay').textContent = user.semester + 'th Semester';

                if (user.isPremium) {
                    document.getElementById('premiumBadge').style.display = 'inline-flex';
                }
            }
        });
    </script>    <script src="../scripts/whatsapp-modal.js"></script>

</body>

</html>
