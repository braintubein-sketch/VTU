<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VTU study materials, notes, question papers and fix questions for all semesters.">
    <title>Branch Resources - Braintube</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../styles/index.css">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
</head>

<body>
    <header class="header" id="header">
        <div class="header-inner">
            <a href="../index.html" class="logo">
                <div class="logo-icon">ğŸ“</div>
                <span>Brain<span class="text-gradient">tube</span></span>
            </a>
            <nav class="nav">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="branches.html" class="nav-link active">Branches</a>
                <a href="resources.html" class="nav-link">Resources</a>
                <a href="pricing.html" class="nav-link">Premium</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </nav>
            <div class="header-actions">
                <a href="login.html" class="btn btn-secondary hide-mobile">Login</a>
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
    </header>

    <nav class="mobile-nav" id="mobileNav">
        <a href="../index.html" class="mobile-nav-link">Home</a>
        <a href="branches.html" class="mobile-nav-link">Branches</a>
        <a href="resources.html" class="mobile-nav-link">Resources</a>
        <a href="pricing.html" class="mobile-nav-link">Premium</a>
        <a href="contact.html" class="mobile-nav-link">Contact</a>
    </nav>

    <main>
        <section class="page-hero">
            <div class="container">
                <nav class="breadcrumb">
                    <a href="../index.html">Home</a>
                    <span class="breadcrumb-separator">/</span>
                    <a href="branches.html">Branches</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-current" id="branchName">Loading...</span>
                </nav>
                <div class="flex gap-4 items-center" style="margin-bottom: var(--space-4);">
                    <div class="branch-icon" id="branchIcon" style="width: 72px; height: 72px; font-size: 2rem;">ğŸ’»
                    </div>
                    <div>
                        <h1 id="branchTitle">Computer Science</h1>
                        <p id="branchFullName" style="color: var(--text-secondary);">Computer Science & Engineering</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" style="padding-top: var(--space-8);">
            <div class="container">
                <!-- Semester Navigation -->
                <h3 style="text-align: center; margin-bottom: var(--space-6);">Select Semester</h3>
                <div class="semester-nav" id="semesterNav"></div>

                <!-- Subjects Grid -->
                <div id="subjectsSection" style="margin-top: var(--space-12);">
                    <h3 style="margin-bottom: var(--space-6);" id="semesterTitle">Semester 3 Subjects</h3>
                    <div class="subjects-grid" id="subjectsGrid"></div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom" style="border-top: none; padding-top: 0;">
                <p class="footer-copyright">Â© 2026 Braintube. Made with â¤ï¸ for VTU Students.</p>
            </div>
        </div>
    </footer>

    <script src="../scripts/data.js"></script>
    <script src="../scripts/main.js"></script>
    <script>
        let currentBranch = null;
        let currentSemester = 3;

        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const branchId = params.get('branch') || 'cse';
            currentBranch = VTUData.getBranch(branchId);

            if (!currentBranch) {
                window.location.href = 'branches.html';
                return;
            }

            // Update page info
            document.getElementById('branchName').textContent = currentBranch.name;
            document.getElementById('branchTitle').textContent = currentBranch.name;
            document.getElementById('branchFullName').textContent = currentBranch.fullName;
            document.getElementById('branchIcon').textContent = currentBranch.icon;
            document.title = `${currentBranch.name} - VTU Nexus`;

            // Render semester navigation
            renderSemesterNav();

            // Load initial semester
            loadSemester(currentSemester);
        });

        function renderSemesterNav() {
            const nav = document.getElementById('semesterNav');
            nav.innerHTML = VTUData.semesters.map(sem => `
        <button class="semester-btn ${sem.id === currentSemester ? 'active' : ''}" 
                onclick="loadSemester(${sem.id})" 
                title="${sem.name} - ${sem.type}">
          ${sem.id}
        </button>
      `).join('');
        }

        function loadSemester(semId) {
            currentSemester = semId;

            // Update active button
            document.querySelectorAll('.semester-btn').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.textContent) === semId);
            });

            // Update title
            document.getElementById('semesterTitle').textContent = `Semester ${semId} Subjects`;

            // Get and render subjects
            const subjects = VTUData.getSubjects(currentBranch.id, semId);
            renderSubjects(subjects);
        }

        function renderSubjects(subjects) {
            const grid = document.getElementById('subjectsGrid');

            if (subjects.length === 0) {
                grid.innerHTML = `
          <div class="card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-12);">
            <div style="font-size: 3rem; margin-bottom: var(--space-4);">ğŸ“š</div>
            <h4>Coming Soon</h4>
            <p style="color: var(--text-secondary); margin-top: var(--space-2);">
              Resources for this semester are being prepared. Check back soon!
            </p>
          </div>
        `;
                return;
            }

            grid.innerHTML = subjects.map(subject => `
        <div class="subject-card">
          <div class="subject-header">
            <span class="subject-code">${subject.code}</span>
            <span class="subject-credits">ğŸ“– ${subject.credits} Credits</span>
          </div>
          <h4 class="subject-name">${subject.name}</h4>
          <div class="subject-resources">
            ${subject.hasNotes ? '<span class="resource-tag available">ğŸ“š Notes</span>' : ''}
            <span class="resource-tag available">ğŸ“‹ Syllabus</span>
            ${subject.hasQP ? '<span class="resource-tag available">ğŸ“„ Papers</span>' : ''}
            ${subject.hasFix ? '<span class="resource-tag available">âœ… Fix Q</span>' : ''}
          </div>
          <div class="subject-actions">
            <a href="subject.html?branch=${currentBranch.id}&sem=${currentSemester}&code=${subject.code}" class="btn btn-primary">
              View Resources
            </a>
          </div>
        </div>
      `).join('');
        }
    </script>
</body>

</html>